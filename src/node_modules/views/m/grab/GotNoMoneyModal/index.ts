import * as tomato from "@po-to/tomato";
import * as tdom from "@po-to/tomato-jquery";
import * as project from "views/global/common/Project";
import * as funs from "views/global/common/Funs";
import * as model from "views/global/common/Model";
import * as api from "views/global/common/API";

class VPresenter extends project.VPresenter {
    constructor(view: tomato.VPView, parent?: tomato.VPresenter, vpid?: string) {
        super(view, parent, vpid);
        this._watchEvent();
        this._els = this._getElements();
    }
    //打开支付宝支付页面
    _evt_repay = function (data, target, hit) {
        //打开“支付宝”弹窗
        tomato.getVPresenter<tomato.VPresenter>(funs.moduleToUrl('m/grab/AliPayModule'), (alipay) => {
            tdom.open(alipay, tdom.DialogTarget.Self, {
                size: { width: '90%', height: tomato.DialogSize.Content },
                masked: true,
            });
        });
    };
}
export = VPresenter;