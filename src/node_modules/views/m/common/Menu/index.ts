import * as tomato from "@po-to/tomato";
import * as project from "views/global/common/Project";
import * as funs from "views/global/common/Funs";
import * as tdom from "@po-to/tomato-jquery";


class VPresenter extends project.VPresenter {
    constructor(view: tomato.VPView, parent?: tomato.VPresenter, vpid?: string) {
        super(view, parent, vpid);
        this._watchEvent();
    }
    private _evt_about() {
        tomato.getVPresenter<tomato.VPresenter>(funs.moduleToUrl('m/about/AboutForm'), (AboutForm) => {
            tdom.open(AboutForm, tdom.DialogTarget.Blank, {
                size: { width: tomato.DialogSize.Content, height: tomato.DialogSize.Content },
                effect: tdom.DialogEffect.scale,
                masked: true
            });
        });
        (this.parent as tomato.Dialog).close();
    }
    _evt_load(url: string) {
        (this.parent as tomato.Dialog).close();
        super._evt_load(url);
    }
}
export = VPresenter;